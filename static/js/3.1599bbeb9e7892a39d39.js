webpackJsonp([3],{"9Wym":function(t,e,i){"use strict";var s={props:{list:{type:Array,default:function(){}},imgPath:{type:String,default:""},titlePath:{type:String,default:""},descPath:{type:String,default:""}},methods:{selectItem:function(t){this.$emit("select",t)}}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",t._l(t.list,function(e,s){return i("li",{key:s,staticClass:"item",on:{click:function(i){return t.selectItem(e)}}},[i("div",{staticClass:"icon"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e[t.imgPath],expression:"item[imgPath]"}],attrs:{width:"60"}})]),t._v(" "),i("div",{staticClass:"text"},[i("h2",{staticClass:"name",domProps:{innerHTML:t._s(e[t.titlePath])}}),t._v(" "),i("p",{staticClass:"desc",domProps:{innerHTML:t._s(e[t.descPath])}})])])}),0)},staticRenderFns:[]};var r=i("VU/8")(s,_,!1,function(t){i("SIM4")},"data-v-e9d41672",null);e.a=r.exports},G4TT:function(t,e){},GG6i:function(t,e){},SIM4:function(t,e){},"W1+L":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Dd8w"),_=i.n(s),r=i("m40h"),a=(i("T452"),i("GQaK")),n=i("3Q4o"),o={data:function(){return{dots:[],currentPageIndex:0}},props:{loop:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!0},interval:{type:Number,default:4e3},threshold:{type:Number,default:.3},speed:{type:Number,default:300}},mounted:function(){var t=this;setTimeout(function(){t._setSliderWidth(),t._initDots(),t._initSlider()},20),window.addEventListener("resize",this._refresh)},destroyed:function(){clearTimeout(this.timer)},methods:{_refresh:function(){this.slider&&(this._setSliderWidth(!0),this.slider.refresh())},_setSliderWidth:function(t){this.children=this.$refs.sliderGroup.children;for(var e=0,i=this.$refs.slider.clientWidth,s=0;s<this.children.length;s++){var _=this.children[s];Object(n.a)(_,"slider-item"),_.style.width=i+"px",e+=i}this.loop&&!t&&(e+=2*i),this.$refs.sliderGroup.style.width=e+"px"},_initDots:function(){this.dots=new Array(this.children.length)},_initSlider:function(){var t=this;this.slider=new a.a(this.$refs.slider,{scrollX:!0,scrollY:!1,momentum:!1,snap:{loop:this.loop,threshold:this.threshold,speed:this.speed},bounce:!1}),this.slider.on("scrollEnd",this._onScrollEnd),this.autoPlay&&this._play(),this.slider.on("touchEnd",function(){t.autoPlay&&clearTimeout(t.timer)}),this.slider.on("beforeScrollSatrt",function(){t.autoPlay&&clearTimeout(t.timer)})},_onScrollEnd:function(){var t=this.slider.getCurrentPage().pageX;this.currentPageIndex=t,this.autoPlay&&this._play()},_play:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout(function(){t.slider.next(t.speed)},this.interval)}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"slider",staticClass:"slider"},[i("div",{ref:"sliderGroup",staticClass:"slider-group"},[t._t("default")],2),t._v(" "),i("div",{staticClass:"dots"},t._l(t.dots,function(e,s){return i("span",{key:s,staticClass:"dot",class:{active:t.currentPageIndex===s}})}),0)])},staticRenderFns:[]};var l=i("VU/8")(o,c,!1,function(t){i("G4TT")},"data-v-f4eb35d2",null).exports,d=i("qwAB"),u=i("y/jF"),h=i("9Wym"),f=i("NYxO"),m={mixins:[i("F4+m").b],components:{Slider:l,Scroll:d.a,Loading:u.a,List:h.a},data:function(){return{imgPath:"imgurl",titlePath:"author",descPath:"dissname"}},created:function(){this._getData()},activated:function(){var t=this;setTimeout(function(){t.$refs.slider&&t.$refs.slider.refresh()},20)},methods:_()({_getData:function(){var t=this;this.banner.length||this.discList.length||Object(r.a)().then(function(e){0===e.code&&t.setMusicData(e.data)})},selectItem:function(t){this.$router.push({path:"/recommend/"+t.dissid}),this.setDisc(t)},loadImage:function(){var t=this;this.checkloaded||(this.checkloaded=!0,setTimeout(function(){t.$refs.scroll.refresh()},20))}},Object(f.d)({setMusicData:"SET_MUSICDATA",setDisc:"SET_DISC"})),computed:_()({},Object(f.c)(["banner","discList"]))},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recommend"},[i("scroll",{ref:"scroll",staticClass:"recommend-content",attrs:{data:t.discList}},[i("div",[t.banner.length?i("div",{ref:"sliderWrapper",staticClass:"slider-wrapper"},[i("slider",t._l(t.banner,function(e,s){return i("div",{key:e.index},[i("a",{attrs:{href:e.jumpurl}},[i("img",{staticClass:"needsclick",attrs:{src:e.pic},on:{load:t.loadImage}})])])}),0)],1):t._e(),t._v(" "),i("div",{staticClass:"recommend-list"},[i("h1",{staticClass:"list-title"},[t._v("热门歌单推荐")]),t._v(" "),i("list",{attrs:{list:t.discList,imgPath:t.imgPath,titlePath:t.titlePath,descPath:t.descPath},on:{select:t.selectItem}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.discList.length,expression:"!discList.length"}],staticClass:"loading-container"},[i("loading")],1)])]),t._v(" "),i("router-view")],1)},staticRenderFns:[]};var E=i("VU/8")(m,p,!1,function(t){i("GG6i")},"data-v-10f11148",null);e.default=E.exports},m40h:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=getMusicData,__webpack_exports__.b=getSongList;var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__=__webpack_require__("//Fk"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__=__webpack_require__("woOf"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__),__WEBPACK_IMPORTED_MODULE_2_common_js_jsonp__=__webpack_require__("Gak4"),__WEBPACK_IMPORTED_MODULE_3__config__=__webpack_require__("T452"),__WEBPACK_IMPORTED_MODULE_4_axios__=__webpack_require__("mtWM"),__WEBPACK_IMPORTED_MODULE_4_axios___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_axios__);function getMusicData(){var t=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({},__WEBPACK_IMPORTED_MODULE_3__config__.b,{g_tk:1588932357679,format:"jsonp",tpl:"v12",page:"other",rnd:0,loginUin:0,hostUin:0,inCharset:"utf8",outCharset:"GB2312",notice:0,platform:"yqq",needNewCode:0});return Object(__WEBPACK_IMPORTED_MODULE_2_common_js_jsonp__.a)("https://c.y.qq.com/v8/fcg-bin/fcg_first_yqq.fcg",t,__WEBPACK_IMPORTED_MODULE_3__config__.e)}function jsonCallback(t){return t}function getSongList(disstid){var url="/api/getCdInfo",data=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({},__WEBPACK_IMPORTED_MODULE_3__config__.b,{disstid:disstid,type:1,json:1,utf8:1,onlysong:0,platform:"yqq",hostUin:0,needNewCode:0});return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(resolve,reject){__WEBPACK_IMPORTED_MODULE_4_axios___default.a.get(url,{params:data}).then(function(res){var resData=eval(res.data);resolve(resData)}).catch(function(t){console.log(t)})})}}});
//# sourceMappingURL=3.1599bbeb9e7892a39d39.js.map