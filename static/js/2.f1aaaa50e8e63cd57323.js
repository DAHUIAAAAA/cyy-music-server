webpackJsonp([2],{CSXr:function(e,t){},G4TT:function(e,t){},"W1+L":function(e,t,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=_("Dd8w"),i=_.n(s),r=_("m40h"),n=(_("T452"),_("GQaK")),a=_("3Q4o"),o={data:function(){return{dots:[],currentPageIndex:0}},props:{loop:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!0},interval:{type:Number,default:4e3},threshold:{type:Number,default:.3},speed:{type:Number,default:300}},mounted:function(){var e=this;setTimeout(function(){e._setSliderWidth(),e._initDots(),e._initSlider()},20),window.addEventListener("resize",this._refresh)},destroyed:function(){clearTimeout(this.timer)},methods:{_refresh:function(){this.slider&&(this._setSliderWidth(!0),this.slider.refresh())},_setSliderWidth:function(e){this.children=this.$refs.sliderGroup.children;for(var t=0,_=this.$refs.slider.clientWidth,s=0;s<this.children.length;s++){var i=this.children[s];Object(a.a)(i,"slider-item"),i.style.width=_+"px",t+=_}this.loop&&!e&&(t+=2*_),this.$refs.sliderGroup.style.width=t+"px"},_initDots:function(){this.dots=new Array(this.children.length)},_initSlider:function(){var e=this;this.slider=new n.a(this.$refs.slider,{scrollX:!0,scrollY:!1,momentum:!1,snap:{loop:this.loop,threshold:this.threshold,speed:this.speed},bounce:!1}),this.slider.on("scrollEnd",this._onScrollEnd),this.autoPlay&&this._play(),this.slider.on("touchEnd",function(){e.autoPlay&&clearTimeout(e.timer)}),this.slider.on("beforeScrollSatrt",function(){e.autoPlay&&clearTimeout(e.timer)})},_onScrollEnd:function(){var e=this.slider.getCurrentPage().pageX;this.currentPageIndex=e,this.autoPlay&&this._play()},_play:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){e.slider.next(e.speed)},this.interval)}}},c={render:function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",{ref:"slider",staticClass:"slider"},[_("div",{ref:"sliderGroup",staticClass:"slider-group"},[e._t("default")],2),e._v(" "),_("div",{staticClass:"dots"},e._l(e.dots,function(t,s){return _("span",{key:s,staticClass:"dot",class:{active:e.currentPageIndex===s}})}),0)])},staticRenderFns:[]};var l=_("VU/8")(o,c,!1,function(e){_("G4TT")},"data-v-f4eb35d2",null).exports,d=_("qwAB"),u=_("y/jF"),h=_("NYxO"),f={mixins:[_("F4+m").b],components:{Slider:l,Scroll:d.a,Loading:u.a},created:function(){this._getData()},methods:i()({_getData:function(){var e=this;this.banner.length||this.discList.length||Object(r.a)().then(function(t){0===t.code&&e.setMusicData(t.data)})},selectItem:function(e){this.$router.push({path:"/recommend/"+e.dissid}),this.setDisc(e)}},Object(h.d)({setMusicData:"SET_MUSICDATA",setDisc:"SET_DISC"})),computed:i()({},Object(h.c)(["banner","discList"]))},m={render:function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",{staticClass:"recommend"},[_("scroll",{staticClass:"recommend-content",attrs:{data:e.discList}},[_("div",[e.banner.length?_("div",{ref:"sliderWrapper",staticClass:"slider-wrapper"},[_("slider",e._l(e.banner,function(e,t){return _("div",{key:e.index},[_("a",{attrs:{href:e.jumpurl}},[_("img",{staticClass:"needsclick",attrs:{src:e.pic}})])])}),0)],1):e._e(),e._v(" "),_("div",{staticClass:"recommend-list"},[_("h1",{staticClass:"list-title"},[e._v("热门歌单推荐")]),e._v(" "),_("ul",e._l(e.discList,function(t,s){return _("li",{key:s,staticClass:"item",on:{click:function(_){return e.selectItem(t)}}},[_("div",{staticClass:"icon"},[_("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgurl,expression:"item.imgurl"}],attrs:{width:"60"}})]),e._v(" "),_("div",{staticClass:"text"},[_("h2",{staticClass:"name",domProps:{innerHTML:e._s(t.author)}}),e._v(" "),_("p",{staticClass:"desc",domProps:{innerHTML:e._s(t.dissname)}})])])}),0)]),e._v(" "),_("div",{directives:[{name:"show",rawName:"v-show",value:!e.discList.length,expression:"!discList.length"}],staticClass:"loading-container"},[_("loading")],1)])]),e._v(" "),_("router-view")],1)},staticRenderFns:[]};var p=_("VU/8")(f,m,!1,function(e){_("CSXr")},"data-v-99e4d5f8",null);t.default=p.exports},m40h:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=getMusicData,__webpack_exports__.b=getSongList;var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__=__webpack_require__("//Fk"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__=__webpack_require__("woOf"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__),__WEBPACK_IMPORTED_MODULE_2_common_js_jsonp__=__webpack_require__("Gak4"),__WEBPACK_IMPORTED_MODULE_3__config__=__webpack_require__("T452"),__WEBPACK_IMPORTED_MODULE_4_axios__=__webpack_require__("mtWM"),__WEBPACK_IMPORTED_MODULE_4_axios___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_axios__);function getMusicData(){var e=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({},__WEBPACK_IMPORTED_MODULE_3__config__.b,{g_tk:1588932357679,format:"jsonp",tpl:"v12",page:"other",rnd:0,loginUin:0,hostUin:0,inCharset:"utf8",outCharset:"GB2312",notice:0,platform:"yqq",needNewCode:0});return Object(__WEBPACK_IMPORTED_MODULE_2_common_js_jsonp__.a)("https://c.y.qq.com/v8/fcg-bin/fcg_first_yqq.fcg",e,__WEBPACK_IMPORTED_MODULE_3__config__.c)}function jsonCallback(e){return e}function getSongList(disstid){var url="/api/getCdInfo",data=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({},__WEBPACK_IMPORTED_MODULE_3__config__.b,{disstid:disstid,type:1,json:1,utf8:1,onlysong:0,platform:"yqq",hostUin:0,needNewCode:0});return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(resolve,reject){__WEBPACK_IMPORTED_MODULE_4_axios___default.a.get(url,{params:data}).then(function(res){console.log(res);var resData=eval(res.data);resolve(resData)}).catch(function(e){console.log(e)})})}}});
//# sourceMappingURL=2.f1aaaa50e8e63cd57323.js.map